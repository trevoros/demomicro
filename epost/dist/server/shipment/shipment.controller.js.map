{"version":3,"sources":["server/shipment/shipment.controller.js"],"names":["createShipment","req","res","next","logisticoId","body","logisticoAccountId","account","findByLogisticoId","shipment","getAccountApiKey","testMode","json","e","console","log","testApiKey","prodApiKey","buyShipment","JSON","stringify","createMessage","result","shippingLabel","postage_label","label_pdf_url","orderId","items","comments","tracks","map","track","order_id","qty","description","title","carrier_code","selected_rate","carrier","track_number","tracking_code","entity"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,iBAAiB,eAAjBA,cAAiB,CAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,EAA0B;AAC/C,MAAMC,cAAcH,IAAII,IAAJ,CAASC,kBAA7B;AACA,MAAI;AACF,QAAMC,UAAU,MAAM,kBAAQC,iBAAR,CAA0BJ,WAA1B,CAAtB;AACA,QAAI,CAACG,OAAL,EAAc;AACZ,aAAOJ,KAAK,uBAAa,sCAAb,CAAL,CAAP;AACD;;AAED,QAAMM,WAAW,MAAM,mBAAeT,cAAf,CAA8BU,iBAAiBH,OAAjB,EAA0BN,IAAII,IAAJ,CAASM,QAAnC,CAA9B,EAA4EV,IAAII,IAAhF,CAAvB;AACA,WAAOH,IAAIU,IAAJ,CAASH,QAAT,CAAP;AACD,GARD,CAQE,OAAOI,CAAP,EAAU;AACVC,YAAQC,GAAR,CAAYF,CAAZ;AACA,WAAOV,KAAKU,CAAL,CAAP;AACD;AACF,CAdD;;AAgBA,IAAMH,mBAAmB,SAAnBA,gBAAmB,CAACH,OAAD,EAAUI,QAAV;AAAA,SAAuBA,WAAWJ,QAAQS,UAAnB,GAAgCT,QAAQU,UAA/D;AAAA,CAAzB;;AAEA,IAAMC,cAAc,eAAdA,WAAc,CAAOjB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,EAA0B;AAC5C,MAAMC,cAAcH,IAAII,IAAJ,CAASC,kBAA7B;AACA,MAAI;AACF,QAAMC,UAAU,MAAM,kBAAQC,iBAAR,CAA0BJ,WAA1B,CAAtB;AACA,QAAI,CAACG,OAAL,EAAc;AACZ,aAAOJ,KAAK,uBAAa,sCAAb,CAAL,CAAP;AACD;;AAED,QAAMM,WAAW,MAAM,mBAAeS,WAAf,CAA2BR,iBAAiBH,OAAjB,EAA0BN,IAAII,IAAJ,CAASM,QAAnC,CAA3B,EAAyEV,IAAII,IAA7E,CAAvB;AACA,iCAAY,mBAAZ,EAAiCc,KAAKC,SAAL,CAAeC,cAAcpB,IAAII,IAAlB,EAAwBI,QAAxB,CAAf,CAAjC;AACA,WAAOP,IAAIU,IAAJ,CAASH,QAAT,CAAP;AACD,GATD,CASE,OAAOI,CAAP,EAAU;AACVC,YAAQC,GAAR,CAAYF,CAAZ;AACA,WAAOV,KAAKU,CAAL,CAAP;AACD;AACF,CAfD;;AAiBA,IAAMQ,gBAAgB,SAAhBA,aAAgB,CAAChB,IAAD,EAAOI,QAAP,EAAoB;AACxC,MAAIa,SAAS,EAAb;AACAA,SAAOC,aAAP,GAAuBd,SAASe,aAAT,CAAuBC,aAA9C;AACAH,SAAOI,OAAP,GAAiBrB,KAAKqB,OAAtB;AACAJ,SAAOK,KAAP,GAAetB,KAAKsB,KAApB;AACAL,SAAOM,QAAP,GAAkBvB,KAAKuB,QAAvB;;AAEAN,SAAOO,MAAP,GAAgBxB,KAAKwB,MAAL,CAAYC,GAAZ,CAAgB,UAACC,KAAD;AAAA,WAAY;AAC1CC,gBAAU3B,KAAKqB,OAD2B;AAE1CO,WAAK5B,KAAK4B,GAFgC;AAG1CC,mBAAaH,MAAMG,WAHuB;AAI1CC,aAAOJ,MAAMI,KAJ6B;AAK1CC,oBAAc3B,SAAS4B,aAAT,CAAuBC,OALK;AAM1CC,oBAAc9B,SAAS+B;AANmB,KAAZ;AAAA,GAAhB,CAAhB;;AASA,SAAO,EAACC,QAAQnB,MAAT,EAAP;AACD,CAjBD;;kBAmBe,EAAEtB,8BAAF,EAAkBkB,wBAAlB,E","file":"shipment.controller.js","sourceRoot":"../../../../.."}